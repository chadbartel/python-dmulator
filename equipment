__author__ = 'Chaddle'


# Set all properties here like the Class
import re
from bs4 import BeautifulSoup
import urllib.request

#NOTE: there are 21 types of armor => there will be 21 keys and 21 sub-dicts
#       there are 9 properties to each armor entry => we will be grabbing 189 data-points

path = "file:///E:/www.d20srd.org/srd/equipment/armor.htm"

page = urllib.request.urlopen(path)
soup = BeautifulSoup(page.read())
col_heads = ['Cost', 'Armor/Shield Bonus', 'Maximum Dex Bonus', 'Armor Check Penalty',
             'Arcane Spell Failure Chance', 'Speed30', 'Speed20', 'Weight']

equip_table = []
for line in soup.table.tbody.find_all('td'):
    equip_table.append(str(line.text).strip())

armors_list = []
for i in range(len(equip_table)):
    if i % 9 == 0:
        armors_list.append(equip_table[i])

item_dict = {}
for a in armors_list:
    item_dict[a] = {}
    index = equip_table.index(a)
    for h in col_heads:
        item_dict[a][h] = equip_table[index+1]
        index += 1

for k, v in item_dict:
    print(k, v)
