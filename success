__author__ = 'v-chbart'

import re
from bs4 import BeautifulSoup
import urllib.request

url = "file:///E:/www.d20srd.org/srd/monsters/kobold.htm"
page = urllib.request.urlopen(url)
soup = BeautifulSoup(page.read())

keys = []
values = []

tds = soup.find_all('td')
for td in tds:
    try:
        values.append(str(td.text).strip())
    except AttributeError:
        values.append(str(td).strip())

count = 0
for th in soup.find_all('a', {"href": re.compile("intro.htm#")}):
    keys.append(str(th.get('href')))
    keys[count] = keys[count].replace("intro.htm#", "").strip()
    count += 1

koboldDict = dict(zip(keys, values))
print(str(koboldDict))
